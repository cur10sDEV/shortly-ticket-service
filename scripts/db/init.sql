-- DATABASE SETUP ----------------------------------------------

-- BEGIN TRANSACTION -------------------------------------------
BEGIN;

-- CREATE ENUM "range_status" ----------------------------------
CREATE TYPE "range_status" AS ENUM ('active', 'exhausted', 'not_active');

-- CREATE TABLE "ranges" ---------------------------------------
CREATE TABLE "public"."ranges" ( 
	"id" INTEGER PRIMARY KEY,
	"start" BIGINT NOT NULL,
	"end" BIGINT NOT NULL, -- here end is non-inclusive
	"current" BIGINT NOT NULL,
	"status" range_status DEFAULT 'active' NOT NULL,
	"created_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT now() NOT NULL,
	"updated_at" TIMESTAMP WITHOUT TIME ZONE DEFAULT now() NOT NULL
	);

-- CREATE INDEX "index_status" ---------------------------------
CREATE INDEX "index_status" ON "public"."ranges" USING btree( "status" ASC NULLS LAST );

-- INSERT RANGES DATA ------------------------------------------
INSERT INTO "public"."ranges" VALUES 
  (1, 1000000,10000000,1000000),
	(2, 10000000,20000000,10000000),
	(3, 20000000,30000000,20000000),
	(4, 30000000,40000000,30000000),
	(5, 40000000,50000000,40000000),
	(6, 50000000,60000000,50000000),
	(7, 60000000,70000000,60000000),
	(8, 70000000,80000000,70000000),
	(9, 80000000,90000000,80000000),
	(10, 90000000,100000000,90000000),
	(11, 100000000,110000000,100000000),
	(12, 110000000,120000000,110000000),
	(13, 120000000,130000000,120000000),
	(14, 130000000,140000000,130000000),
	(15, 140000000,150000000,140000000),
	(16, 150000000,160000000,150000000),
	(17, 160000000,170000000,160000000),
	(18, 170000000,180000000,170000000),
	(19, 180000000,190000000,180000000),
	(20, 190000000,200000000,190000000),
	(21, 200000000,210000000,200000000),
	(22, 210000000,220000000,210000000),
	(23, 220000000,230000000,220000000),
	(24, 230000000,240000000,230000000),
	(25, 240000000,250000000,240000000),
	(26, 250000000,260000000,250000000),
	(27, 260000000,270000000,260000000),
	(28, 270000000,280000000,270000000),
	(29, 280000000,290000000,280000000),
	(30, 290000000,300000000,290000000),
	(31, 300000000,310000000,300000000),
	(32, 310000000,320000000,310000000),
	(33, 320000000,330000000,320000000),
	(34, 330000000,340000000,330000000),
	(35, 340000000,350000000,340000000),
	(36, 350000000,360000000,350000000),
	(37, 360000000,370000000,360000000),
	(38, 370000000,380000000,370000000),
	(39, 380000000,390000000,380000000),
	(40, 390000000,400000000,390000000),
	(41, 400000000,410000000,400000000),
	(42, 410000000,420000000,410000000),
	(43, 420000000,430000000,420000000),
	(44, 430000000,440000000,430000000),
	(45, 440000000,450000000,440000000),
	(46, 450000000,460000000,450000000),
	(47, 460000000,470000000,460000000),
	(48, 470000000,480000000,470000000),
	(49, 480000000,490000000,480000000),
	(50, 490000000,500000000,490000000);

-- COMMIT THE TRANSACTION --------------------------------------
COMMIT;